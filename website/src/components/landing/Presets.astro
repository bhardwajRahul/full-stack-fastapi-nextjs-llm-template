---
import type { translations } from '../../i18n/translations';

interface Props {
  t: typeof translations.en;
  basePath?: string;
}

const { t, basePath = "/" } = Astro.props;

const presets = [
  {
    name: t["presets.minimal.name"],
    description: t["presets.minimal.desc"],
    features: [
      t["presets.minimal.f1"],
      t["presets.minimal.f2"],
      t["presets.minimal.f3"],
      t["presets.minimal.f4"],
    ],
    href: `${basePath}configurator/?preset=minimal`,
    highlighted: false,
    tag: null as string | null,
    cta: t["presets.minimal.cta"],
  },
  {
    name: t["presets.production.name"],
    description: t["presets.production.desc"],
    features: [
      t["presets.production.f1"],
      t["presets.production.f2"],
      t["presets.production.f3"],
      t["presets.production.f4"],
      t["presets.production.f5"],
    ],
    href: `${basePath}configurator/?preset=production`,
    highlighted: true,
    tag: t["presets.production.tag"],
    cta: t["presets.production.cta"],
  },
  {
    name: t["presets.agent.name"],
    description: t["presets.agent.desc"],
    features: [
      t["presets.agent.f1"],
      t["presets.agent.f2"],
      t["presets.agent.f3"],
      t["presets.agent.f4"],
      t["presets.agent.f5"],
    ],
    href: `${basePath}configurator/?preset=ai-agent`,
    highlighted: false,
    tag: t["presets.agent.tag"],
    cta: t["presets.agent.cta"],
  },
];
---

<section class="px-4 py-24 sm:px-6 sm:py-32 lg:px-8">
  <div class="mx-auto max-w-6xl">
    <div class="reveal text-center">
      <h2 class="text-3xl font-bold tracking-[-0.02em] sm:text-4xl">{t["presets.title"]}</h2>
      <p class="mt-4 text-lg text-text-secondary">
        {t["presets.subtitle"]}
      </p>
    </div>

    <div class="reveal-group mt-16 grid gap-6 lg:grid-cols-3">
      {presets.map((preset) => (
        <div
          class={`reveal glow-card relative flex flex-col rounded-2xl border p-6 pt-5 transition-colors ${
            preset.highlighted
              ? "border-accent/40 bg-surface"
              : "border-border bg-surface hover:border-border-hover"
          }`}
        >
          <div class="flex items-center gap-2 mb-1">
            <h3 class="text-lg font-semibold">{preset.name}</h3>
            {preset.tag && (
              <span class="rounded-full bg-accent px-2.5 py-0.5 text-[11px] font-medium text-white">
                {preset.tag}
              </span>
            )}
          </div>
          <p class="mt-2 text-sm text-text-secondary">{preset.description}</p>

          <ul class="mt-6 flex-1 space-y-2.5">
            {preset.features.map((feature) => (
              <li class="flex items-center gap-2.5 text-sm text-text-secondary">
                <span class="text-text-tertiary">&mdash;</span>
                {feature}
              </li>
            ))}
          </ul>

          <a
            href={preset.href}
            class={`mt-8 block rounded-full py-2.5 text-center text-sm font-semibold transition-colors ${
              preset.highlighted
                ? "bg-accent text-white hover:bg-accent-hover"
                : "border border-border text-text hover:border-border-hover hover:bg-surface-hover"
            }`}
          >
            {preset.cta}
          </a>
        </div>
      ))}
    </div>
  </div>
</section>
