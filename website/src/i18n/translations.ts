export const languages = {
  en: "English",
  pl: "Polski",
  de: "Deutsch",
  es: "Español",
} as const;

export type Lang = keyof typeof languages;
export const defaultLang: Lang = "en";

export const translations = {
  en: {
    // Meta
    "meta.description": "Generate production-ready AI/LLM applications with FastAPI + Next.js. 5 AI frameworks, 75+ config options, 3 presets.",

    // Nav
    "nav.back": "Back to home",

    // Hero
    "hero.badge": "Open Source",
    "hero.title.line1": "Ship Production",
    "hero.title.highlight": "AI Apps",
    "hero.title.line2": "In Minutes",
    "hero.description": "Generate complete FastAPI + Next.js projects with 5 AI frameworks, 75+ configuration options, and production-grade infrastructure.",
    "hero.cta.configure": "Configure & Download",
    "hero.cta.github": "View on GitHub",
    "hero.terminal.success": "Project created successfully",

    // Frameworks
    "frameworks.title": "Works with your stack",

    // Features
    "features.title": "Everything you need",
    "features.subtitle": "From database to deployment, configured in one command.",
    "features.ai.title": "5 AI Frameworks",
    "features.ai.desc": "Pydantic AI, LangChain, LangGraph, CrewAI, and DeepAgents with WebSocket streaming.",
    "features.options.title": "75+ Options",
    "features.options.desc": "Database, auth, background tasks, caching, rate limiting, file storage, webhooks, and more.",
    "features.presets.title": "3 Presets",
    "features.presets.desc": "Minimal, Production, or AI Agent. One command, zero configuration.",
    "features.fullstack.title": "Full-Stack",
    "features.fullstack.desc": "FastAPI backend with Next.js 15 frontend. TypeScript, App Router, Tailwind CSS.",
    "features.production.title": "Production Ready",
    "features.production.desc": "Docker, reverse proxy, Kubernetes, CI/CD, .env generation out of the box.",
    "features.observable.title": "Observable",
    "features.observable.desc": "Logfire, Sentry, and Prometheus integration. Know what your agents are doing.",

    // Presets
    "presets.title": "Start with a preset",
    "presets.subtitle": "Or customize every option in the configurator.",
    "presets.minimal.name": "Minimal",
    "presets.minimal.desc": "API-only, no database, no auth. Perfect for prototyping.",
    "presets.minimal.f1": "No database",
    "presets.minimal.f2": "No authentication",
    "presets.minimal.f3": "No Docker",
    "presets.minimal.f4": "Basic FastAPI",
    "presets.minimal.cta": "Use Minimal",
    "presets.production.name": "Production",
    "presets.production.tag": "Recommended",
    "presets.production.desc": "Full production setup. Deploy-ready from day one.",
    "presets.production.f1": "PostgreSQL + JWT auth",
    "presets.production.f2": "Redis + Caching",
    "presets.production.f3": "Sentry + Prometheus",
    "presets.production.f4": "Docker + Kubernetes",
    "presets.production.f5": "GitHub Actions CI",
    "presets.production.cta": "Use Production",
    "presets.agent.name": "AI Agent",
    "presets.agent.tag": "Most Popular",
    "presets.agent.desc": "AI-powered app with streaming and persistence.",
    "presets.agent.f1": "Pydantic AI (default)",
    "presets.agent.f2": "WebSocket streaming",
    "presets.agent.f3": "Conversation history",
    "presets.agent.f4": "PostgreSQL + Redis",
    "presets.agent.f5": "Next.js frontend",
    "presets.agent.cta": "Use AI Agent",

    // QuickStart
    "quickstart.title": "Get started",
    "quickstart.step1": "Install",
    "quickstart.step2": "Create",
    "quickstart.step3": "Run",
    "quickstart.or": "Or use the web configurator",

    // Footer
    "footer.built": "Built by",
  },

  pl: {
    "meta.description": "Generuj gotowe do produkcji aplikacje AI/LLM z FastAPI + Next.js. 5 frameworków AI, 75+ opcji konfiguracji, 3 presety.",

    "nav.back": "Wróć do strony głównej",
    "hero.badge": "Open Source",
    "hero.title.line1": "Twórz produkcyjne",
    "hero.title.highlight": "aplikacje AI",
    "hero.title.line2": "w minuty",
    "hero.description": "Generuj kompletne projekty FastAPI + Next.js z 5 frameworkami AI, 75+ opcjami konfiguracji i infrastrukturą produkcyjną.",
    "hero.cta.configure": "Konfiguruj i pobierz",
    "hero.cta.github": "Zobacz na GitHub",
    "hero.terminal.success": "Projekt utworzony pomyślnie",
    "frameworks.title": "Współpracuje z Twoim stackiem",
    "features.title": "Wszystko czego potrzebujesz",
    "features.subtitle": "Od bazy danych po deployment, skonfigurowane jednym poleceniem.",
    "features.ai.title": "5 frameworków AI",
    "features.ai.desc": "Pydantic AI, LangChain, LangGraph, CrewAI i DeepAgents z WebSocket streamingiem.",
    "features.options.title": "75+ opcji",
    "features.options.desc": "Baza danych, autoryzacja, zadania w tle, caching, rate limiting, storage, webhooks i więcej.",
    "features.presets.title": "3 presety",
    "features.presets.desc": "Minimal, Production lub AI Agent. Jedno polecenie, zero konfiguracji.",
    "features.fullstack.title": "Full-Stack",
    "features.fullstack.desc": "Backend FastAPI z frontendem Next.js 15. TypeScript, App Router, Tailwind CSS.",
    "features.production.title": "Gotowy na produkcję",
    "features.production.desc": "Docker, reverse proxy, Kubernetes, CI/CD, generowanie .env od razu.",
    "features.observable.title": "Obserwowalny",
    "features.observable.desc": "Integracja Logfire, Sentry i Prometheus. Wiedz co robią Twoi agenci.",
    "presets.title": "Zacznij od presetu",
    "presets.subtitle": "Lub dostosuj każdą opcję w konfiguratorze.",
    "presets.minimal.name": "Minimalny",
    "presets.minimal.desc": "Samo API, bez bazy danych, bez autoryzacji. Idealny do prototypów.",
    "presets.minimal.f1": "Bez bazy danych",
    "presets.minimal.f2": "Bez autoryzacji",
    "presets.minimal.f3": "Bez Dockera",
    "presets.minimal.f4": "Podstawowe FastAPI",
    "presets.minimal.cta": "Użyj Minimalny",
    "presets.production.name": "Produkcyjny",
    "presets.production.tag": "Rekomendowany",
    "presets.production.desc": "Pełny setup produkcyjny. Gotowy do deploymentu.",
    "presets.production.f1": "PostgreSQL + JWT",
    "presets.production.f2": "Redis + Caching",
    "presets.production.f3": "Sentry + Prometheus",
    "presets.production.f4": "Docker + Kubernetes",
    "presets.production.f5": "GitHub Actions CI",
    "presets.production.cta": "Użyj Produkcyjny",
    "presets.agent.name": "Agent AI",
    "presets.agent.tag": "Najpopularniejszy",
    "presets.agent.desc": "Aplikacja AI ze streamingiem i historią rozmów.",
    "presets.agent.f1": "Pydantic AI (domyślny)",
    "presets.agent.f2": "WebSocket streaming",
    "presets.agent.f3": "Historia konwersacji",
    "presets.agent.f4": "PostgreSQL + Redis",
    "presets.agent.f5": "Frontend Next.js",
    "presets.agent.cta": "Użyj Agent AI",
    "quickstart.title": "Rozpocznij",
    "quickstart.step1": "Zainstaluj",
    "quickstart.step2": "Utwórz",
    "quickstart.step3": "Uruchom",
    "quickstart.or": "Lub użyj konfiguratora webowego",
    "footer.built": "Stworzone przez",
  },

  de: {
    "meta.description": "Generiere produktionsreife KI/LLM-Anwendungen mit FastAPI + Next.js. 5 KI-Frameworks, 75+ Konfigurationsoptionen, 3 Vorlagen.",

    "nav.back": "Zurück zur Startseite",
    "hero.badge": "Open Source",
    "hero.title.line1": "Produktionsreife",
    "hero.title.highlight": "KI-Apps",
    "hero.title.line2": "in Minuten",
    "hero.description": "Generiere komplette FastAPI + Next.js Projekte mit 5 KI-Frameworks, 75+ Konfigurationsoptionen und produktionsreifer Infrastruktur.",
    "hero.cta.configure": "Konfigurieren & Herunterladen",
    "hero.cta.github": "Auf GitHub ansehen",
    "hero.terminal.success": "Projekt erfolgreich erstellt",
    "frameworks.title": "Funktioniert mit deinem Stack",
    "features.title": "Alles was du brauchst",
    "features.subtitle": "Von der Datenbank bis zum Deployment, mit einem Befehl konfiguriert.",
    "features.ai.title": "5 KI-Frameworks",
    "features.ai.desc": "Pydantic AI, LangChain, LangGraph, CrewAI und DeepAgents mit WebSocket-Streaming.",
    "features.options.title": "75+ Optionen",
    "features.options.desc": "Datenbank, Auth, Hintergrundaufgaben, Caching, Rate-Limiting, Dateispeicher, Webhooks und mehr.",
    "features.presets.title": "3 Vorlagen",
    "features.presets.desc": "Minimal, Production oder AI Agent. Ein Befehl, keine Konfiguration.",
    "features.fullstack.title": "Full-Stack",
    "features.fullstack.desc": "FastAPI-Backend mit Next.js 15 Frontend. TypeScript, App Router, Tailwind CSS.",
    "features.production.title": "Produktionsbereit",
    "features.production.desc": "Docker, Reverse-Proxy, Kubernetes, CI/CD, .env-Generierung sofort einsatzbereit.",
    "features.observable.title": "Beobachtbar",
    "features.observable.desc": "Logfire-, Sentry- und Prometheus-Integration. Wisse was deine Agenten tun.",
    "presets.title": "Starte mit einer Vorlage",
    "presets.subtitle": "Oder passe jede Option im Konfigurator an.",
    "presets.minimal.name": "Minimal",
    "presets.minimal.desc": "Nur API, keine Datenbank, keine Auth. Perfekt für Prototypen.",
    "presets.minimal.f1": "Keine Datenbank",
    "presets.minimal.f2": "Keine Authentifizierung",
    "presets.minimal.f3": "Kein Docker",
    "presets.minimal.f4": "Basis FastAPI",
    "presets.minimal.cta": "Minimal verwenden",
    "presets.production.name": "Produktion",
    "presets.production.tag": "Empfohlen",
    "presets.production.desc": "Vollständiges Produktions-Setup. Sofort einsatzbereit.",
    "presets.production.f1": "PostgreSQL + JWT",
    "presets.production.f2": "Redis + Caching",
    "presets.production.f3": "Sentry + Prometheus",
    "presets.production.f4": "Docker + Kubernetes",
    "presets.production.f5": "GitHub Actions CI",
    "presets.production.cta": "Produktion verwenden",
    "presets.agent.name": "KI-Agent",
    "presets.agent.tag": "Beliebteste",
    "presets.agent.desc": "KI-App mit Streaming und Konversationsverlauf.",
    "presets.agent.f1": "Pydantic AI (Standard)",
    "presets.agent.f2": "WebSocket-Streaming",
    "presets.agent.f3": "Konversationsverlauf",
    "presets.agent.f4": "PostgreSQL + Redis",
    "presets.agent.f5": "Next.js Frontend",
    "presets.agent.cta": "KI-Agent verwenden",
    "quickstart.title": "Loslegen",
    "quickstart.step1": "Installieren",
    "quickstart.step2": "Erstellen",
    "quickstart.step3": "Starten",
    "quickstart.or": "Oder nutze den Web-Konfigurator",
    "footer.built": "Erstellt von",
  },

  es: {
    "meta.description": "Genera aplicaciones AI/LLM listas para producción con FastAPI + Next.js. 5 frameworks de IA, 75+ opciones de configuración, 3 presets.",

    "nav.back": "Volver al inicio",
    "hero.badge": "Open Source",
    "hero.title.line1": "Apps de",
    "hero.title.highlight": "IA Producción",
    "hero.title.line2": "en minutos",
    "hero.description": "Genera proyectos completos FastAPI + Next.js con 5 frameworks de IA, 75+ opciones de configuración e infraestructura de producción.",
    "hero.cta.configure": "Configurar y descargar",
    "hero.cta.github": "Ver en GitHub",
    "hero.terminal.success": "Proyecto creado exitosamente",
    "frameworks.title": "Funciona con tu stack",
    "features.title": "Todo lo que necesitas",
    "features.subtitle": "Desde base de datos hasta despliegue, configurado en un comando.",
    "features.ai.title": "5 Frameworks de IA",
    "features.ai.desc": "Pydantic AI, LangChain, LangGraph, CrewAI y DeepAgents con streaming WebSocket.",
    "features.options.title": "75+ Opciones",
    "features.options.desc": "Base de datos, auth, tareas en segundo plano, caché, rate limiting, almacenamiento, webhooks y más.",
    "features.presets.title": "3 Presets",
    "features.presets.desc": "Minimal, Production o AI Agent. Un comando, cero configuración.",
    "features.fullstack.title": "Full-Stack",
    "features.fullstack.desc": "Backend FastAPI con frontend Next.js 15. TypeScript, App Router, Tailwind CSS.",
    "features.production.title": "Listo para producción",
    "features.production.desc": "Docker, reverse proxy, Kubernetes, CI/CD, generación de .env listo para usar.",
    "features.observable.title": "Observable",
    "features.observable.desc": "Integración con Logfire, Sentry y Prometheus. Conoce lo que hacen tus agentes.",
    "presets.title": "Empieza con un preset",
    "presets.subtitle": "O personaliza cada opción en el configurador.",
    "presets.minimal.name": "Mínimo",
    "presets.minimal.desc": "Solo API, sin base de datos, sin auth. Perfecto para prototipos.",
    "presets.minimal.f1": "Sin base de datos",
    "presets.minimal.f2": "Sin autenticación",
    "presets.minimal.f3": "Sin Docker",
    "presets.minimal.f4": "FastAPI básico",
    "presets.minimal.cta": "Usar Mínimo",
    "presets.production.name": "Producción",
    "presets.production.tag": "Recomendado",
    "presets.production.desc": "Setup de producción completo. Listo para desplegar.",
    "presets.production.f1": "PostgreSQL + JWT",
    "presets.production.f2": "Redis + Caché",
    "presets.production.f3": "Sentry + Prometheus",
    "presets.production.f4": "Docker + Kubernetes",
    "presets.production.f5": "GitHub Actions CI",
    "presets.production.cta": "Usar Producción",
    "presets.agent.name": "Agente IA",
    "presets.agent.tag": "Más popular",
    "presets.agent.desc": "App con IA, streaming y persistencia de conversaciones.",
    "presets.agent.f1": "Pydantic AI (predeterminado)",
    "presets.agent.f2": "Streaming WebSocket",
    "presets.agent.f3": "Historial de conversación",
    "presets.agent.f4": "PostgreSQL + Redis",
    "presets.agent.f5": "Frontend Next.js",
    "presets.agent.cta": "Usar Agente IA",
    "quickstart.title": "Empezar",
    "quickstart.step1": "Instalar",
    "quickstart.step2": "Crear",
    "quickstart.step3": "Ejecutar",
    "quickstart.or": "O usa el configurador web",
    "footer.built": "Creado por",
  },
} as const;

export type TranslationKey = keyof typeof translations.en;

export function t(lang: Lang, key: TranslationKey): string {
  return translations[lang]?.[key] ?? translations.en[key] ?? key;
}

export function getLangFromUrl(url: URL): Lang {
  const segments = url.pathname.split("/").filter(Boolean);
  const first = segments[0];
  if (first && first in languages) return first as Lang;
  return defaultLang;
}
